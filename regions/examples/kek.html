
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ru"  xmlns:og="http://ogp.me/ns#">
<head>
<title>esosedi Data API</title>
<meta name="Description" content="Home of osme" >
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">

    <meta name="viewport"
          content="width=1400, initial-scale=0.35, minimum-scale=0.35, maximum-scale=1, user-scalable=no"/>
    <meta name="p:domain_verify" content="f4e95b9e7c57545a0124ac68b1055646"/>
    <meta name='yandex-verification' content='7a0788f8a3c3130c'>
<meta name="yandex-verification" content="03c3d56211638f57" />

    <meta name='yandex-verification' content='60c2ec46eee59536'>
    <meta name='yandex-verification' content='426f5c95d0247d33'/>
    <meta name="propeller" content="0a9d3ea7b90d7b6634923fa513182a91" />
    <meta name="propeller" content="2e77a7c3a6cc6167990cdee8c0079e61" />
    <meta name="propeller" content="fa610c25f05c1b4711f546fa08a1ec81" />

    <meta name="SKYPE_TOOLBAR" content="SKYPE_TOOLBAR_PARSER_COMPATIBLE"/>
    <meta content="telephone=no" name="format-detection">
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7, IE=edge">
    <meta property="og:site_name" content="еСоседи"/>
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@esosedi">

    <meta name="google-translate-customization" content="3cc75253646be022-c4c1652360c1fcb0-g913f975728f34449-e">
    <link rel="yandex-tableau-widget" href="http://esosedi.ru/tableau-manifect.json"/>
    <link href="//plus.google.com/113747015750507015254?prsrc=3" rel="publisher"/>
    <meta property="og:type" content="article"/>
    <meta property="article:publisher" content="http://www.facebook.com/eSosedi"/>
<link rel="search" type="application/opensearchdescription+xml" title="Места на карте мира" href="/loader/search/openSearch_places.xml">
<link rel="image_src" href="http://www.esosedi.ru/skin/v6/img/logo_.png"/>
<meta itemprop="image" content="http://www.esosedi.ru/skin/v6/img/logo_.png"/>
<meta property="og:image" content="http://www.esosedi.ru/skin/v6/img/logo_.png"/>
<meta name="twitter:image" content="http://www.esosedi.ru/skin/v6/img/logo_.png"/>
<meta property="article:author" content="http://www.facebook.com/eSosedi"/>    <BASE href='http://www.esosedi.ru/'/>
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="//pagead2.googlesyndication.com"><link rel="dns-prefetch" href="//google-analytics.com"><link rel="dns-prefetch" href="//googleads.g.doubleclick.net"><link rel="dns-prefetch" href="//favicon.yandex.net"><link rel="dns-prefetch" href="//ssl.gstatic.com"><link rel="dns-prefetch" href="//facebook.com"><link rel="dns-prefetch" href="//counter.yadro.ru"><link rel="dns-prefetch" href="//an.yandex.ru"><link rel="dns-prefetch" href="//mc.yandex.ru"><link rel="dns-prefetch" href="//api-maps.yandex.ru"><link rel="dns-prefetch" href="//userapi.com"><link rel="dns-prefetch" href="//connect.facebook.net"><link rel="dns-prefetch" href="//yandex.st"><link rel="dns-prefetch" href="//esosed.ru"><link rel="dns-prefetch" href="//panoramio.com"><link rel="dns-prefetch" href="//vk.com">
<!--<link rel="alternate" type="application/rss+xml" href="http://www.esosedi.ru/last_comments.php" title="еСоседи - глобальный эфир" />-->
<link rel="alternate" type="application/rss+xml" href="http://feeds.feedburner.com/esosedi/flow?format=xml" title="Места на карте мира" />
<script type="text/javascript" notasync>
    var DRR = "http://www.esosedi.ru/",
        DataCenter = "http://data.esosedi.org/",
        profileTimings = {startTime: +(new Date())},
        dataHost = "http://data.esosedi.org",
        pageGenerationTime = +(new Date()) / 1000,
        serverGenerationTime = 1521664230,
        GTMDelta = pageGenerationTime - serverGenerationTime,
        SAPI_execute = [];
    var enableAlignFrame=true;
</script>
<script notasync>
    (navigator.userAgent || navigator.vendor || window.opera);

    window.shandheld = {
        orientation: -1,
        lastOrientation: -1,
        viewport: document.querySelector && document.querySelector('meta[name="viewport"]'),
        disabled: 0,
        headerInClass: 0,
        headerInObject:0    };



</script>

<script type="text/javascript" notasync>
    SAPI_execute.push(function () {
                try {
            window.console = {
                log: function () {
                }, error: function () {
                }, trace: function () {
                }
            };
        } catch (e) {
        }

        
        
        
</script>


    <!--[if lt IE 9]>
    <link href="//static.esosedi.org/v179-1.base.csso" rel="stylesheet" type="text/css"/>
    <link href="//static.esosedi.org/skin/css/ieSupport.css" rel="stylesheet" type="text/css"/>
    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link href="//static.esosedi.org/v179-1.css.minpair.csso" rel="stylesheet" type="text/css"/>
    <!--<![endif]-->
   
</head>
<body class="frameAlign">

<script charset="utf-8" async=true  language="javascript" type="text/javascript" src="//static.esosedi.org/v319-3.esd.jso"></script>


    

<div id='depl_yandex_comments_' style='width:180px;height:150px;position:absolute;display:none;'>&nbsp;</div>
<div id=share42 style='position:fixed;left:0;top:50%'></div>
    <script notasync>
        if (window.handheld_mode) {
            document.body && document.body.classList && document.body.classList.add('handheld');
        }
    </script>
    <!--  test inner text  -->

    <style>body {
            min-width: 1040px;
        }</style>
    <div class='nav_page_front' style='position: relative;overflow: hidden'>
        <div class='nav_page_tower nav_page_v4'>

            <div id='pre_top_blocker'>&nbsp;</div>
            <div id='top_blocker' class="hasAMap2 island" >&nbsp;</div>
            <div class='frames_vertical'>
                <div class='pre_map_bg'><div id='pre_map_data' style='padding:1px;'><br/><h1>World. Full of data.</h1><script type="text/javascript"
        src="http://api-maps.yandex.ru/2.1/?lang=ru-RU"></script>
<style>
    .regionList {
        font-size: 10px;
        height: 500px;
        width: 280px;
        overflow-y: auto;
        overflow-x: hidden;
    }

    .legend a {
        font-size: 14px;
        margin-right: 10px;
        display: inline-block;
    }
</style>
<i>Click-n-DblClick to go deeper. Single click to get information</i>
<br/>
<select id='osmeLangSelect'>
    <option value="en" selected>Language: EN</option>
    <option value="ru">Language: RU</option>
    <!--    <option value="de">Language: DE</option>-->
</select>
<div class="legend"></div>
<table width=100% height="500">
    <tr valign=top>
        <td>
            <div id="map" style="min-width:800px;min-height:500px"></div>
            <label><input type="range" style="width:600px" value="1" step="0.001" min="-2" max="1.0"
                          id="simplificationRange">
                post-Simplification</label><br>
        </td>
        <td width="280">
            <div class="regionList"></div>
        </td>
    </tr>
</table>

</div></div>                <!-- // test inner text -->
                
                
                

<!--<iframe src="http://www.hotels.ru/rus/banner/240x90/?banner-type=city&login=thekashey&currency=rub" width="240px" height="90px" style='margin-left:42px' frameborder="0"></iframe>-->
<div class='rightFloaterTopStart'></div>
<div class='rightFloater' style='position:relative;'>

    

        <div class='rightFloaterInner' style="opacity:0.8">
            <!--Реклама:-->
            

            <div class='selfAdvertPlace gsn_nav  islandRight islandPadding'>
                <!--            <div id="vk_ads_185" style='margin-left:-3px;background-color: #FFF'></div>-->
            </div>

        </div>

        <div class='floaterEnd'></div>


                

</div>
<style>
    .nav_page_front {
        min-height: 785px;
    }
</style>

</div>                                    </div>
                                </div>
                                <div class=clear></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            
        </div>



        </div>

        
<script>
SAPI_execute.push(function(){
window.cssoBase='//static.esosedi.org/v179-1';
});
SAPI_execute.push(function(){


    var geoMap = 0;
    ymaps.ready(function () {
        jQuery.getScript('http://kashey.ru/maps/regions.js', function () {
            var $ = jQuery;
            geoMap = new ymaps.Map('map', {
                center: [0, 0],
                type: "yandex#hybrid",
                zoom: 2
            }, {
                geoObjectBalloonPanelMapMaxArea: Infinity
            });

            document.getElementById('simplificationRange').oninput = function () {
                geoMap.options.set('geoObjectSimplification', +document.getElementById('simplificationRange').value)
            };


            var depth = [], names = {};

            function buildAddr () {
                var d = $(".legend");
                d.html('');
                for (var i in depth) {
                    (function (i) {
                        var name = depth[i];
                        var oname = names[name] || name;
                        var l = $("<a href='#'>" + oname + "</a>");
                        l.click(function () {
                            depth.length = i;
                            load(name);
                            return false;
                        });
                        l.appendTo(d);
                    })(i);
                }
            }

            var lastCollection = 0;

            //osmeRegions.setHost('http://mellis/sosedi/_dataExport/regions/v1/');

            window.Q = 0;
            window.T = '';

            $("#osmeLangSelect").change(function () {
                setTimeout(function () {
                    depth.length--;
                    load(lastAddr);
                }, 1);
            });
            var lastAddr = '';

            function load (addr, callback) {
                lastAddr = addr;
                var lng = $("#osmeLangSelect option:selected").val();
                //debugger;
                $(".regionList").html("loading " + addr + ':' + lng);
                $("#codeBlock").html('osmeRegions.geoJSON("' + addr + '", {lang: "' + lng + '", quality: ' + Q + '}, function (data) { \n\tvar collection = osmeRegions.toYandex(data);\n\t//....\n});');
                osmeRegions.geoJSON(addr, {lang: lng, quality: Q, type: T}, function (data, pureData) {

                    if (!data.metaData) {
                        $(".regionList").html("failed");
                        console.log('no data');
                        return;
                    }
                    var thisId = data.metaData.osmId;
                    $(".regionList").html("<ul></ul>");
                    for (var i in data.features) {
                        (function (i) {
                            var iso = '';
                            if (data.features[i].properties.properties.iso3166) {
                                iso = ' (' + data.features[i].properties.properties.iso3166 + ')';
                            }
                            var item = $("<li>" + data.features[i].properties.name + iso + "</li>");
                            item.click(function () {
                                load('' + data.features[i].properties.osmId);
                            });
                            item.mouseover(function () {
                                collection.collection.get(i).options.set({
                                    fillColor: 'F00'
                                });
                            })
                            item.mouseout(function () {
                                collection.collection.get(i).options.set({
                                    fillColor: 'FFF2'
                                });
                            });
                            item.appendTo($(".regionList ul"));

                            if (data.features[i].properties.osmId == thisId) {
                                names[addr] = data.features[i].properties.name;
                            }
                        })(i);
                    }
                    //$(".regionList").html("<ul>" + list.join('') + "</ul>");

                    depth.push(addr);
                    buildAddr();

                    var collection = osmeRegions.toYandex(data, ymaps);
                    if (lastCollection) {
                        lastCollection.remove(geoMap);
                    }
                    lastCollection = collection;
                    collection.add(geoMap);

                    geoMap.setBounds(collection.collection.getBounds(), {duration: 300});
                    var strokeColors = [
                        '#000',
                        '#F0F',
                        '#00F',
                        '#0FF',
                    ];
                    var meta = data.metaData,
                        minLevel = meta.levels[0],
                        maxLevel = meta.levels[1] + 1;
                    collection.setStyles(function (object, yobject) {
                        var level = object.properties.level;
                        yobject.properties.set('balloonContent', "<div style=''>" + JSON.stringify(object.properties).split(',').join(", ") + "</div>");
                        return ({
                            zIndex: level,
                            zIndexHover: level,
                            strokeWidth: Math.max(1, level == 2 ? 2 : (maxLevel - level)),
                            strokeColor: strokeColors[maxLevel - level] || '#000',
                            fillColor: '#FFE2',
                            balloonPanelMaxMapArea: Infinity,
                            balloonAutoPan: false,
                            autoPanDuration: 300,
                            //draggable: true
                        });
                    });

                    collection.addEvent('dblclick', function (object, type, target, event) {
                        var osmId = object.properties.osmId;
                        //debugger;
                        event.preventDefault();
                        if (osmId) {
                            geoMap.setBounds(target.geometry.getBounds());
                            setTimeout(function () {
                                load('' + osmId);
                            }, 1);
                        }
                    });
                    if (callback) {
                        callback();
                    }
                }, function (error) {
                    $(".regionList").html("error - " + error);
                });
            }

            load('world');
            window.rload = load;

            geoMap.geoObjects.events
                .add('mouseenter', function (e) {
                    e.get('target').options.set({
                        //strokeColor: '#0008',
                        fillColor: 'FFF6',
                        strokeWidth: 2
                    });
                })
                .add('mouseleave', function (e) {
                    e.get('target').options.set({
                        //strokeColor: '#44F',
                        fillColor: 'FFF2',
                        strokeWidth: 1
                    });
                });

        });
    });

});
SAPI_execute.push(function(){

            _postsSendTimer = 0;
        
});


</script>

</body></html>